<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>React Lesson 6 Reat的状态和声明周期 State and LifeCyle</title>
    <script src="../js/react.min.js"></script>
    <script src="../js/react-dom.min.js"></script>
    <script src="../js/babel.min.js"></script>
  </head>
  <body>
    <div id="app"></div>
    <script type="text/jsx">
    class Clock extends React.Component {
      constructor (props) {
        super(props)
        this.state = {date : new Date()}
      }
      componentDidMount() {
        this.timeID = setInterval(
          () => this.tick(),
          1000
        )
      }

      componentWillUnmount() {
        clearInterval(this.timeID);
      }

      tick() {
        this.setState({
          date: new Date()
        });
      }
      render () {
            return (
              <div>
                <h1>Local Time</h1>
                <h2>{this.state.date.toLocaleTimeString()}</h2>
              </div>
            )
      }
    }

    ReactDOM.render (
      <Clock />,
      document.getElementById('app')
    )
    </script>
  </body>
</html>
